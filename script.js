document.getElementById("togglePassword")?.addEventListener("click",function(){let e=document.getElementById("password");if(e){let t="password"===e.type?"text":"password";e.type=t}});const loginForm=document.getElementById("loginForm");loginForm&&loginForm.addEventListener("submit",async e=>{e.preventDefault();let t=document.getElementById("email").value,n=document.getElementById("password").value;if(!t||!n){alert("Please fill out all fields.");return}try{let a=await fetch("http://localhost:5001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}),l=await a.json();a.ok?(alert("Login successful!"),console.log("Token:",l.token),window.location.href="dashboard.html"):alert(l.msg||"Login failed. Please try again.")}catch(o){console.error("Error:",o),alert("Something went wrong. Please try again.")}});const signupForm=document.getElementById("signupForm");signupForm&&signupForm.addEventListener("submit",async e=>{e.preventDefault();let t=document.getElementById("name").value,n=document.getElementById("email").value,a=document.getElementById("password").value;if(!t||!n||!a){alert("Please fill out all fields.");return}try{let l=await fetch("http://localhost:5001/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,password:a})}),o=await l.json();l.ok?(alert("Signup successful! You can now log in."),window.location.href="login.html"):alert(o.msg||"Signup failed. Please try again.")}catch(i){console.error("Error:",i),alert("Something went wrong. Please try again later.")}});